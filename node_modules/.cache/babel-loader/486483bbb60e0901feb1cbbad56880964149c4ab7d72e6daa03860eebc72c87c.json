{"ast":null,"code":"var _jsxFileName = \"/Users/mohamadali/vitruvius-modeler/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { EditableNode } from './EditableNode';\nimport { Sidebar } from './Sidebar';\nimport 'reactflow/dist/style.css';\nconst nodeTypes = {\n  editable: EditableNode\n};\nimport ReactFlow, { MiniMap, Controls, Background, useNodesState, useEdgesState, addEdge } from 'reactflow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialNodes = [{\n  id: '1',\n  position: {\n    x: 200,\n    y: 100\n  },\n  data: {\n    label: 'Drag me! (Sequence Table)'\n  },\n  type: 'editable'\n}, {\n  id: '2',\n  position: {\n    x: 500,\n    y: 100\n  },\n  data: {\n    label: 'Drag me! (Object Table)'\n  },\n  type: 'editable'\n}];\nconst initialEdges = [];\nlet id = 3;\nconst getId = () => (id++).toString();\nfunction App() {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), [setEdges]);\n  const onDrop = useCallback(event => {\n    var _reactFlowWrapper$cur;\n    event.preventDefault();\n\n    // React Flow expects 'application/reactflow' key for custom node types\n    const type = event.dataTransfer.getData('application/reactflow');\n    if (!type || !reactFlowInstance) return;\n    const reactFlowBounds = (_reactFlowWrapper$cur = reactFlowWrapper.current) === null || _reactFlowWrapper$cur === void 0 ? void 0 : _reactFlowWrapper$cur.getBoundingClientRect();\n    if (!reactFlowBounds) return;\n    const position = reactFlowInstance.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top\n    });\n    let label = '';\n    if (type === 'sequence') label = 'Sequence Table';\n    if (type === 'object') label = 'Object Table';\n    const newNode = {\n      id: getId(),\n      type: 'editable',\n      position,\n      data: {\n        label,\n        onLabelChange\n      }\n    };\n    setNodes(nds => nds.concat(newNode));\n  }, [reactFlowInstance, setNodes]);\n  const onLabelChange = (id, newLabel) => {\n    setNodes(nds => nds.map(node => node.id === id ? {\n      ...node,\n      data: {\n        ...node.data,\n        label: newLabel,\n        onLabelChange\n      }\n    } : node));\n  };\n  const onDragOver = useCallback(event => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: reactFlowWrapper,\n      style: {\n        flexGrow: 1,\n        height: '100vh',\n        marginLeft: 180\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          position: 'absolute',\n          top: 10,\n          right: 30,\n          zIndex: 100\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '8px 20px',\n            fontSize: 16,\n            borderRadius: 6,\n            background: '#0091ea',\n            color: '#fff',\n            border: 'none',\n            cursor: 'pointer'\n          },\n          onClick: () => {\n            console.log('DEPLOY:', {\n              nodes,\n              edges\n            });\n            alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n          },\n          children: \"Deploy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        onConnect: onConnect,\n        fitView: true,\n        onDrop: onDrop,\n        onDragOver: onDragOver,\n        onInit: setReactFlowInstance,\n        nodeTypes: nodeTypes,\n        children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"o6JLkAVG6ceWMpDIGMpDS5Ib8VU=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","EditableNode","Sidebar","nodeTypes","editable","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","jsxDEV","_jsxDEV","initialNodes","id","position","x","y","data","label","type","initialEdges","getId","toString","App","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowWrapper","useRef","reactFlowInstance","setReactFlowInstance","useState","onConnect","useCallback","params","eds","onDrop","event","_reactFlowWrapper$cur","preventDefault","dataTransfer","getData","reactFlowBounds","current","getBoundingClientRect","project","clientX","left","clientY","top","newNode","onLabelChange","nds","concat","newLabel","map","node","onDragOver","dropEffect","style","width","height","display","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","flexGrow","marginLeft","padding","right","zIndex","fontSize","borderRadius","background","color","border","cursor","onClick","console","log","alert","fitView","onInit","_c","$RefreshReg$"],"sources":["/Users/mohamadali/vitruvius-modeler/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport { EditableNode } from './EditableNode';\nimport { Sidebar } from './Sidebar';\nimport 'reactflow/dist/style.css';\nconst nodeTypes = { editable: EditableNode };\nimport ReactFlow, {\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Connection,\n  Edge,\n  Node,\n  ReactFlowInstance\n} from 'reactflow';\n\nconst initialNodes: Node[] = [\n  {\n    id: '1',\n    position: { x: 200, y: 100 },\n    data: { label: 'Drag me! (Sequence Table)' },\n    type: 'editable'\n  },\n  {\n    id: '2',\n    position: { x: 500, y: 100 },\n    data: { label: 'Drag me! (Object Table)' },\n    type: 'editable'\n  }\n];\nconst initialEdges: Edge[] = [];\n\nlet id = 3;\nconst getId = () => (id++).toString();\n\nfunction App() {\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState<ReactFlowInstance | null>(null);\n\n  const onConnect = useCallback(\n    (params: Edge | Connection) => setEdges((eds) => addEdge(params, eds)),\n    [setEdges]\n  );\n\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault();\n\n      // React Flow expects 'application/reactflow' key for custom node types\n      const type = event.dataTransfer.getData('application/reactflow');\n      if (!type || !reactFlowInstance) return;\n\n      const reactFlowBounds = reactFlowWrapper.current?.getBoundingClientRect();\n      if (!reactFlowBounds) return;\n\n      const position = reactFlowInstance.project({\n        x: event.clientX - reactFlowBounds.left,\n        y: event.clientY - reactFlowBounds.top,\n      });\n\n      let label = '';\n      if (type === 'sequence') label = 'Sequence Table';\n      if (type === 'object') label = 'Object Table';\n\n      const newNode: Node = {\n        id: getId(),\n        type: 'editable',\n        position,\n        data: { label, onLabelChange }\n      };\n\n      setNodes((nds) => nds.concat(newNode));\n    },\n    [reactFlowInstance, setNodes]\n  );\n\n  const onLabelChange = (id: string, newLabel: string) => {\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, label: newLabel, onLabelChange } }\n          : node\n      )\n    );\n  };\n\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n\n  return (\n    <div style={{ width: '100vw', height: '100vh', display: 'flex' }}>\n      <Sidebar />\n      <div\n        ref={reactFlowWrapper}\n        style={{ flexGrow: 1, height: '100vh', marginLeft: 180 }}\n      >\n        {/* DEPLOY BUTTON */}\n        <div style={{ padding: 10, position: 'absolute', top: 10, right: 30, zIndex: 100 }}>\n          <button\n            style={{\n              padding: '8px 20px',\n              fontSize: 16,\n              borderRadius: 6,\n              background: '#0091ea',\n              color: '#fff',\n              border: 'none',\n              cursor: 'pointer',\n            }}\n            onClick={() => {\n              console.log('DEPLOY:', { nodes, edges });\n              alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n            }}\n          >\n            Deploy\n          </button>\n        </div>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          fitView\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n        >\n          <MiniMap />\n          <Controls />\n          <Background />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}