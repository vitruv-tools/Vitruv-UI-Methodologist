{"ast":null,"code":"var _jsxFileName = \"/Users/mohamadali/vitruvius-modeler/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useState } from 'react';\nimport ReactFlow, { MiniMap, Controls, Background, useNodesState, useEdgesState, addEdge } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { Sidebar } from './Sidebar';\nconst initialNodes = [{\n  id: '1',\n  position: {\n    x: 200,\n    y: 100\n  },\n  data: {\n    label: 'Drag me! (Sequence Table)'\n  },\n  type: 'default'\n}, {\n  id: '2',\n  position: {\n    x: 500,\n    y: 100\n  },\n  data: {\n    label: 'Drag me! (Object Table)'\n  },\n  type: 'default'\n}];\nconst initialEdges = [];\nimport { EditableNode } from './EditableNode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeTypes = {\n  editable: EditableNode\n};\nlet id = 3;\nconst getId = () => (id++).toString();\nfunction App() {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), [setEdges]);\n  const onDrop = useCallback(event => {\n    var _reactFlowWrapper$cur;\n    event.preventDefault();\n\n    // React Flow expects 'application/reactflow' key for custom node types\n    const type = event.dataTransfer.getData('application/reactflow');\n    if (!type || !reactFlowInstance) return;\n    const reactFlowBounds = (_reactFlowWrapper$cur = reactFlowWrapper.current) === null || _reactFlowWrapper$cur === void 0 ? void 0 : _reactFlowWrapper$cur.getBoundingClientRect();\n    if (!reactFlowBounds) return;\n    const position = reactFlowInstance.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top\n    });\n    let label = '';\n    if (type === 'sequence') label = 'Sequence Table';\n    if (type === 'object') label = 'Object Table';\n    const newNode = {\n      id: getId(),\n      type: 'default',\n      position,\n      data: {\n        label,\n        onLabelChange\n      }\n    };\n    setNodes(nds => nds.concat(newNode));\n  }, [reactFlowInstance, setNodes]);\n  const onLabelChange = (id, newLabel) => {\n    setNodes(nds => nds.map(node => node.id === id ? {\n      ...node,\n      data: {\n        ...node.data,\n        label: newLabel,\n        onLabelChange\n      }\n    } : node));\n  };\n  const onDragOver = useCallback(event => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: reactFlowWrapper,\n      style: {\n        flexGrow: 1,\n        height: '100vh',\n        marginLeft: 180\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          position: 'absolute',\n          top: 10,\n          right: 30,\n          zIndex: 100\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '8px 20px',\n            fontSize: 16,\n            borderRadius: 6,\n            background: '#0091ea',\n            color: '#fff',\n            border: 'none',\n            cursor: 'pointer'\n          },\n          onClick: () => {\n            console.log('DEPLOY:', {\n              nodes,\n              edges\n            });\n            alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n          },\n          children: \"Deploy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        onConnect: onConnect,\n        fitView: true,\n        onDrop: onDrop,\n        onDragOver: onDragOver,\n        onInit: setReactFlowInstance,\n        nodeTypes: nodeTypes,\n        children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"o6JLkAVG6ceWMpDIGMpDS5Ib8VU=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useCallback","useRef","useState","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","Sidebar","initialNodes","id","position","x","y","data","label","type","initialEdges","EditableNode","jsxDEV","_jsxDEV","nodeTypes","editable","getId","toString","App","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","onConnect","params","eds","onDrop","event","_reactFlowWrapper$cur","preventDefault","dataTransfer","getData","reactFlowBounds","current","getBoundingClientRect","project","clientX","left","clientY","top","newNode","onLabelChange","nds","concat","newLabel","map","node","onDragOver","dropEffect","style","width","height","display","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","flexGrow","marginLeft","padding","right","zIndex","fontSize","borderRadius","background","color","border","cursor","onClick","console","log","alert","fitView","onInit","_c","$RefreshReg$"],"sources":["/Users/mohamadali/vitruvius-modeler/src/App.tsx"],"sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport ReactFlow, {\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Connection,\n  Edge,\n  Node,\n  ReactFlowInstance\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { Sidebar } from './Sidebar';\n\nconst initialNodes: Node[] = [\n  {\n    id: '1',\n    position: { x: 200, y: 100 },\n    data: { label: 'Drag me! (Sequence Table)' },\n    type: 'default'\n  },\n  {\n    id: '2',\n    position: { x: 500, y: 100 },\n    data: { label: 'Drag me! (Object Table)' },\n    type: 'default'\n  }\n];\nconst initialEdges: Edge[] = [];\n\nimport { EditableNode } from './EditableNode';\nconst nodeTypes = { editable: EditableNode };\n\nlet id = 3;\nconst getId = () => (id++).toString();\n\nfunction App() {\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState<ReactFlowInstance | null>(null);\n\n  const onConnect = useCallback(\n    (params: Edge | Connection) => setEdges((eds) => addEdge(params, eds)),\n    [setEdges]\n  );\n\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault();\n\n      // React Flow expects 'application/reactflow' key for custom node types\n      const type = event.dataTransfer.getData('application/reactflow');\n      if (!type || !reactFlowInstance) return;\n\n      const reactFlowBounds = reactFlowWrapper.current?.getBoundingClientRect();\n      if (!reactFlowBounds) return;\n\n      const position = reactFlowInstance.project({\n        x: event.clientX - reactFlowBounds.left,\n        y: event.clientY - reactFlowBounds.top,\n      });\n\n      let label = '';\n      if (type === 'sequence') label = 'Sequence Table';\n      if (type === 'object') label = 'Object Table';\n\n      const newNode: Node = {\n        id: getId(),\n        type: 'default',\n        position,\n        data: { label, onLabelChange }\n      };\n\n      setNodes((nds) => nds.concat(newNode));\n    },\n    [reactFlowInstance, setNodes]\n  );\n\n  const onLabelChange = (id: string, newLabel: string) => {\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, label: newLabel, onLabelChange } }\n          : node\n      )\n    );\n  };\n\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n\n  return (\n    <div style={{ width: '100vw', height: '100vh', display: 'flex' }}>\n      <Sidebar />\n      <div\n        ref={reactFlowWrapper}\n        style={{ flexGrow: 1, height: '100vh', marginLeft: 180 }}\n      >\n        {/* DEPLOY BUTTON */}\n        <div style={{ padding: 10, position: 'absolute', top: 10, right: 30, zIndex: 100 }}>\n          <button\n            style={{\n              padding: '8px 20px',\n              fontSize: 16,\n              borderRadius: 6,\n              background: '#0091ea',\n              color: '#fff',\n              border: 'none',\n              cursor: 'pointer',\n            }}\n            onClick={() => {\n              console.log('DEPLOY:', { nodes, edges });\n              alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n            }}\n          >\n            Deploy\n          </button>\n        </div>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          fitView\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n        >\n          <MiniMap />\n          <Controls />\n          <Background />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}