{"ast":null,"code":"var _jsxFileName = \"/Users/mohamadali/Vitruv-UI-Methodologist/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useRef, useState } from 'react';\nimport { EditableNode } from './EditableNode';\nimport ReactFlow, { MiniMap, Controls, Background, useNodesState, useEdgesState, addEdge } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { Sidebar } from './Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst nodeTypes = {\n  editable: EditableNode\n};\nconst initialNodes = [];\nconst initialEdges = [];\nlet id = 3;\nconst getId = () => (id++).toString();\nfunction App() {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const onConnect = useCallback(params => setEdges(eds => addEdge(params, eds)), [setEdges]);\n  const onDrop = useCallback(event => {\n    var _reactFlowWrapper$cur;\n    event.preventDefault();\n\n    // React Flow expects 'application/reactflow' key for custom node types\n    const type = event.dataTransfer.getData('application/reactflow');\n    if (!type || !reactFlowInstance) return;\n    const reactFlowBounds = (_reactFlowWrapper$cur = reactFlowWrapper.current) === null || _reactFlowWrapper$cur === void 0 ? void 0 : _reactFlowWrapper$cur.getBoundingClientRect();\n    if (!reactFlowBounds) return;\n    const position = reactFlowInstance.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top\n    });\n    let label = '';\n    if (type === 'sequence') label = 'Sequence Table';\n    if (type === 'object') label = 'Object Table';\n    const newNode = {\n      id: getId(),\n      type: 'editable',\n      position,\n      data: {\n        label,\n        onLabelChange\n      }\n    };\n    setNodes(nds => nds.concat(newNode));\n  }, [reactFlowInstance, setNodes]);\n  const onLabelChange = (id, newLabel) => {\n    setNodes(nds => nds.map(node => node.id === id ? {\n      ...node,\n      data: {\n        ...node.data,\n        label: newLabel,\n        onLabelChange\n      }\n    } : node));\n  };\n  const onDragOver = useCallback(event => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: reactFlowWrapper,\n      style: {\n        flexGrow: 1,\n        height: '100vh',\n        marginLeft: 180\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          position: 'absolute',\n          top: 10,\n          right: 30,\n          zIndex: 100\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '8px 20px',\n            fontSize: 16,\n            borderRadius: 6,\n            background: '#0091ea',\n            color: '#fff',\n            border: 'none',\n            cursor: 'pointer'\n          },\n          onClick: () => {\n            console.log('DEPLOY:', {\n              nodes,\n              edges\n            });\n            alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n          },\n          children: \"Deploy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        onConnect: onConnect,\n        fitView: true,\n        onDrop: onDrop,\n        onDragOver: onDragOver,\n        onInit: setReactFlowInstance,\n        nodeTypes: nodeTypes,\n        children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"o6JLkAVG6ceWMpDIGMpDS5Ib8VU=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useCallback","useRef","useState","EditableNode","ReactFlow","MiniMap","Controls","Background","useNodesState","useEdgesState","addEdge","Sidebar","jsxDEV","_jsxDEV","nodeTypes","editable","initialNodes","initialEdges","id","getId","toString","App","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","onConnect","params","eds","onDrop","event","_reactFlowWrapper$cur","preventDefault","type","dataTransfer","getData","reactFlowBounds","current","getBoundingClientRect","position","project","x","clientX","left","y","clientY","top","label","newNode","data","onLabelChange","nds","concat","newLabel","map","node","onDragOver","dropEffect","style","width","height","display","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","flexGrow","marginLeft","padding","right","zIndex","fontSize","borderRadius","background","color","border","cursor","onClick","console","log","alert","fitView","onInit","_c","$RefreshReg$"],"sources":["/Users/mohamadali/Vitruv-UI-Methodologist/src/App.tsx"],"sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport { EditableNode } from './EditableNode';\n\nimport ReactFlow, {\n  MiniMap,\n  Controls,\n  Background,\n  useNodesState,\n  useEdgesState,\n  addEdge,\n  Connection,\n  Edge,\n  Node,\n  ReactFlowInstance\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { Sidebar } from './Sidebar';\nconst nodeTypes = { editable: EditableNode };\nconst initialNodes: Node[] = [\n\n];\nconst initialEdges: Edge[] = [];\n\nlet id = 3;\nconst getId = () => (id++).toString();\n\nfunction App() {\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\n  const [reactFlowInstance, setReactFlowInstance] = useState<ReactFlowInstance | null>(null);\n\n  const onConnect = useCallback(\n    (params: Edge | Connection) => setEdges((eds) => addEdge(params, eds)),\n    [setEdges]\n  );\n\n  const onDrop = useCallback(\n    (event: React.DragEvent) => {\n      event.preventDefault();\n\n      // React Flow expects 'application/reactflow' key for custom node types\n      const type = event.dataTransfer.getData('application/reactflow');\n      if (!type || !reactFlowInstance) return;\n\n      const reactFlowBounds = reactFlowWrapper.current?.getBoundingClientRect();\n      if (!reactFlowBounds) return;\n\n      const position = reactFlowInstance.project({\n        x: event.clientX - reactFlowBounds.left,\n        y: event.clientY - reactFlowBounds.top,\n      });\n\n      let label = '';\n      if (type === 'sequence') label = 'Sequence Table';\n      if (type === 'object') label = 'Object Table';\n\n      const newNode: Node = {\n        id: getId(),\n        type: 'editable',\n        position,\n        data: { label, onLabelChange }\n      };\n\n      setNodes((nds) => nds.concat(newNode));\n    },\n    [reactFlowInstance, setNodes]\n  );\n\n  const onLabelChange = (id: string, newLabel: string) => {\n    setNodes((nds) =>\n      nds.map((node) =>\n        node.id === id\n          ? { ...node, data: { ...node.data, label: newLabel, onLabelChange } }\n          : node\n      )\n    );\n  };\n\n  const onDragOver = useCallback((event: React.DragEvent) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n  }, []);\n\n  return (\n    <div style={{ width: '100vw', height: '100vh', display: 'flex' }}>\n      <Sidebar />\n      <div\n        ref={reactFlowWrapper}\n        style={{ flexGrow: 1, height: '100vh', marginLeft: 180 }}\n      >\n        {/* DEPLOY BUTTON */}\n        <div style={{ padding: 10, position: 'absolute', top: 10, right: 30, zIndex: 100 }}>\n          <button\n            style={{\n              padding: '8px 20px',\n              fontSize: 16,\n              borderRadius: 6,\n              background: '#0091ea',\n              color: '#fff',\n              border: 'none',\n              cursor: 'pointer',\n            }}\n            onClick={() => {\n              console.log('DEPLOY:', { nodes, edges });\n              alert('Model data printed to console!\\n(Next step: send to Vitruvius backend)');\n            }}\n          >\n            Deploy\n          </button>\n        </div>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          fitView\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          onInit={setReactFlowInstance}\n          nodeTypes={nodeTypes}\n        >\n          <MiniMap />\n          <Controls />\n          <Background />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}