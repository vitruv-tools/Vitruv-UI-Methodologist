{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Handle,Position}from'reactflow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function EditableNode(_ref){let{id,data,selected,isConnectable,xPos,yPos,...rest}=_ref;const[editing,setEditing]=useState(false);const[label,setLabel]=useState(data.label||'');const inputRef=useRef(null);// Focus input when entering edit mode\nuseEffect(()=>{if(editing&&inputRef.current){inputRef.current.focus();}},[editing]);// Save label and exit edit mode\nconst save=()=>{setEditing(false);data.onLabelChange(id,label);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:10,background:selected?'#f7f9fa':'#fff',border:selected?'2px solid #0071e3':'1px solid #999',borderRadius:5,minWidth:120,boxShadow:selected?'0 0 0 2px #cde3fa':undefined},children:[editing?/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:label,style:{width:'100%'},onChange:e=>setLabel(e.target.value),onBlur:save,onKeyDown:e=>{if(e.key==='Enter')save();if(e.key==='Escape')setEditing(false);}}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>setEditing(true),style:{cursor:'pointer',userSelect:'none',fontWeight:500},title:\"Double-click to rename\",children:label}),/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Top,isConnectable:isConnectable}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Bottom,isConnectable:isConnectable})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","Handle","Position","jsx","_jsx","jsxs","_jsxs","EditableNode","_ref","id","data","selected","isConnectable","xPos","yPos","rest","editing","setEditing","label","setLabel","inputRef","current","focus","save","onLabelChange","style","padding","background","border","borderRadius","minWidth","boxShadow","undefined","children","ref","value","width","onChange","e","target","onBlur","onKeyDown","key","onDoubleClick","cursor","userSelect","fontWeight","title","type","position","Top","Bottom"],"sources":["/Users/mohamadali/Vitruv-UI-Methodologist/src/EditableNode.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { NodeProps, Handle, Position } from 'reactflow';\n\nexport function EditableNode({ id, data, selected, isConnectable, xPos, yPos, ...rest }: NodeProps) {\n  const [editing, setEditing] = useState(false);\n  const [label, setLabel] = useState(data.label || '');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Focus input when entering edit mode\n  useEffect(() => {\n    if (editing && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [editing]);\n\n  // Save label and exit edit mode\n  const save = () => {\n    setEditing(false);\n    data.onLabelChange(id, label);\n  };\n\n  return (\n    <div style={{\n      padding: 10,\n      background: selected ? '#f7f9fa' : '#fff',\n      border: selected ? '2px solid #0071e3' : '1px solid #999',\n      borderRadius: 5,\n      minWidth: 120,\n      boxShadow: selected ? '0 0 0 2px #cde3fa' : undefined\n    }}>\n      {editing ? (\n        <input\n          ref={inputRef}\n          value={label}\n          style={{ width: '100%' }}\n          onChange={e => setLabel(e.target.value)}\n          onBlur={save}\n          onKeyDown={e => {\n            if (e.key === 'Enter') save();\n            if (e.key === 'Escape') setEditing(false);\n          }}\n        />\n      ) : (\n        <span\n          onDoubleClick={() => setEditing(true)}\n          style={{ cursor: 'pointer', userSelect: 'none', fontWeight: 500 }}\n          title=\"Double-click to rename\"\n        >\n          {label}\n        </span>\n      )}\n      {/* Connection handles */}\n      <Handle type=\"target\" position={Position.Top} isConnectable={isConnectable} />\n      <Handle type=\"source\" position={Position.Bottom} isConnectable={isConnectable} />\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OAAoBC,MAAM,CAAEC,QAAQ,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,MAAO,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAwE,IAAvE,CAAEC,EAAE,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,aAAa,CAAEC,IAAI,CAAEC,IAAI,CAAE,GAAGC,IAAgB,CAAC,CAAAP,IAAA,CAChG,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACoB,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAACY,IAAI,CAACQ,KAAK,EAAI,EAAE,CAAC,CACpD,KAAM,CAAAE,QAAQ,CAAGrB,MAAM,CAAmB,IAAI,CAAC,CAE/C;AACAC,SAAS,CAAC,IAAM,CACd,GAAIgB,OAAO,EAAII,QAAQ,CAACC,OAAO,CAAE,CAC/BD,QAAQ,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC,CAC1B,CACF,CAAC,CAAE,CAACN,OAAO,CAAC,CAAC,CAEb;AACA,KAAM,CAAAO,IAAI,CAAGA,CAAA,GAAM,CACjBN,UAAU,CAAC,KAAK,CAAC,CACjBP,IAAI,CAACc,aAAa,CAACf,EAAE,CAAES,KAAK,CAAC,CAC/B,CAAC,CAED,mBACEZ,KAAA,QAAKmB,KAAK,CAAE,CACVC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAEhB,QAAQ,CAAG,SAAS,CAAG,MAAM,CACzCiB,MAAM,CAAEjB,QAAQ,CAAG,mBAAmB,CAAG,gBAAgB,CACzDkB,YAAY,CAAE,CAAC,CACfC,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAEpB,QAAQ,CAAG,mBAAmB,CAAGqB,SAC9C,CAAE,CAAAC,QAAA,EACCjB,OAAO,cACNZ,IAAA,UACE8B,GAAG,CAAEd,QAAS,CACde,KAAK,CAAEjB,KAAM,CACbO,KAAK,CAAE,CAAEW,KAAK,CAAE,MAAO,CAAE,CACzBC,QAAQ,CAAEC,CAAC,EAAInB,QAAQ,CAACmB,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE,CACxCK,MAAM,CAAEjB,IAAK,CACbkB,SAAS,CAAEH,CAAC,EAAI,CACd,GAAIA,CAAC,CAACI,GAAG,GAAK,OAAO,CAAEnB,IAAI,CAAC,CAAC,CAC7B,GAAIe,CAAC,CAACI,GAAG,GAAK,QAAQ,CAAEzB,UAAU,CAAC,KAAK,CAAC,CAC3C,CAAE,CACH,CAAC,cAEFb,IAAA,SACEuC,aAAa,CAAEA,CAAA,GAAM1B,UAAU,CAAC,IAAI,CAAE,CACtCQ,KAAK,CAAE,CAAEmB,MAAM,CAAE,SAAS,CAAEC,UAAU,CAAE,MAAM,CAAEC,UAAU,CAAE,GAAI,CAAE,CAClEC,KAAK,CAAC,wBAAwB,CAAAd,QAAA,CAE7Bf,KAAK,CACF,CACP,cAEDd,IAAA,CAACH,MAAM,EAAC+C,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAE/C,QAAQ,CAACgD,GAAI,CAACtC,aAAa,CAAEA,aAAc,CAAE,CAAC,cAC9ER,IAAA,CAACH,MAAM,EAAC+C,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAE/C,QAAQ,CAACiD,MAAO,CAACvC,aAAa,CAAEA,aAAc,CAAE,CAAC,EAC9E,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}